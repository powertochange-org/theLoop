var privSetting="";wp.apiFetch({path:"/s2/v1/settings/private"}).then(function(e){privSetting=e}),function(e,t,i,r,n,s,o,c){var a=e.registerPlugin,u=t.createElement,d=i.__,b=t.Fragment,l=r.PluginSidebar,p=r.PluginSidebarMoreMenuItem,f=n.PanelBody,m=n.PanelRow,g=n.CheckboxControl,v=n.Button,h=s.select,P=s.dispatch,w=s.withSelect,S=s.withDispatch,C=(0,o.compose)(w(function(e,t){return{metaChecked:"no"===e("core/editor").getEditedPostAttribute("meta")[t.fieldName]}}),S(function(e,t){return{setMetaChecked:function(i){var r=!0===i?"no":"yes";e("core/editor").editPost({meta:{[t.fieldName]:r}}),e("core/editor").savePost()}}}))(function(e){return u(g,{label:d("Check here to disable sending of an email notification for this post/page","subscribe2"),checked:e.metaChecked,onChange:function(t){e.setMetaChecked(t)}})}),k=function(){return u(f,{title:d("Subscribe2 Resend","subscribe2"),initialOpen:!1},u(m,{},u("div",null,d("Resend the notification email of this post to current subscribers:","subscribe2"))),u(m,{},u(v,{isDefault:!0,onClick:A},d("Resend Notification","subscribe2"))))},N=function(){var e=h("core/editor").getCurrentPostId();P("core/editor").savePost(),c({path:"/s2/v1/preview/"+e}),P("core/notices").createInfoNotice(d("Attempt made to send email preview","subscribe2"))},A=function(){var e=h("core/editor").getCurrentPostId();P("core/editor").savePost(),c({path:"/s2/v1/resend/"+e}),P("core/notices").createInfoNotice(d("Attempt made to resend email notification","subscribe2"))};a("subscribe2-sidebar",{render:function(){return u(b,{},u(p,{target:"s2-sidebar",icon:"email"},d("Subscribe2 Sidebar","subscribe2")),u(l,{name:"s2-sidebar",title:d("Subscribe2 Sidebar","subscribe2"),icon:"email",isPinned:!0,isPinnable:!0,togglePin:!0,togglesidebar:!1},u(f,{title:d("Subscribe2 Override","subscribe2"),initialOpen:!0},u(m,{},u(C,{fieldName:"_s2mail"}))),u(f,{title:d("Subscribe2 Preview","subscribe2"),initialOpen:!1},u(m,{},u("div",null,d("Send preview email of this post to currently logged in user:","subscribe2"))),u(m,{},u(v,{isDefault:!0,onClick:N},d("Send Preview","subscribe2")))),function(e){return"publish"===h("core/editor").getEditedPostAttribute("status")?k():"private"===h("core/editor").getEditedPostAttribute("status")&&"yes"===e?k():void 0}(privSetting)))}})}(wp.plugins,wp.element,wp.i18n,wp.editPost,wp.components,wp.data,wp.compose,wp.apiFetch);